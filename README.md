# Company Contact Crawler

–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–µ MVC-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Spring Boot –¥–ª—è —Å–±–æ—Ä–∞ –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π (—Ç–µ–ª–µ—Ñ–æ–Ω—ã, email, –∞–¥—Ä–µ—Å–∞) —Å –≤–µ–±-—Å–∞–π—Ç–æ–≤ –∏ –±–∏–∑–Ω–µ—Å-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π.

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è: –∫–∞—Å—Ç–æ–º–Ω—ã–π ExecutorService, ForkJoinPool, @Scheduled –∏ ScheduledExecutorService, WebFlux (WebClient), H2 + JPA, –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏ parallelStream API.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–¥–ª—è –ø—Ä–æ–≤–µ—Ä—è—é—â–µ–≥–æ)

1) –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
mvn spring-boot:run
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:8080`.

2) –ó–∞–ø—É—Å–∫ –∫—Ä–∞—É–ª–∏–Ω–≥–∞ (POST)

POST `http://localhost:8080/api/crawler/start`

Body (JSON):
```json
["https://2gis.ru","https://yandex.ru/maps","https://example.org"]
```
–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
```json
{"taskId":"<uuid>","message":"Crawling started"}
```

3) –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞–Ω–∏—è

GET `http://localhost:8080/api/crawler/status/{taskId}`

4) –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (—ç–Ω–¥–ø–æ–∏–Ω—Ç /answer)

GET `http://localhost:8080/api/data/answer?page=0&size=10&search=it`
- page, size ‚Äî –ø–∞–≥–∏–Ω–∞—Ü–∏—è
- search ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/—Å–∞–π—Ç—É/–∞–¥—Ä–µ—Å—É/–∫–æ–Ω—Ç–∞–∫—Ç–∞–º

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

GET `http://localhost:8080/api/data/companies?search=&sortBy=name&ascending=true`

5) –ö–æ–Ω—Å–æ–ª—å H2 (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

`http://localhost:8080/h2-console`

JDBC URL: `jdbc:h2:file:./data/crawlerdb`

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –ö—Ä–∞—É–ª–µ—Ä —Å—Å—ã–ª–æ–∫ —Å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π ExecutorService
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —á–µ—Ä–µ–∑ ForkJoinPool –∏ parallelStream
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏: @Scheduled –∏ ScheduledExecutorService
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ H2 —á–µ—Ä–µ–∑ Spring Data JPA
- WebFlux (WebClient) –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞/—Å—Ç–∞—Ç—É—Å–∞/–ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## –°–±–æ—Ä–∫–∞ jar (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
```bash
mvn clean package
java -jar target/company-crawler-1.0.0.jar
```


